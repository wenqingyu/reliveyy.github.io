---
layout: post
title: jekyll博客搭建日志1
category: 
  - Learning Notes
  - Log
  - Blog
tags: [jekyll, GitHub, yaml]
---

### 第一步：建Repo

我原来想在CSDN上写一点博客，可是发现CSDN的在线编辑器实在太麻烦，想快速写博客并且排版优美几乎不可能。而且CSDN自称最大的中文开发者社区，居然不支持Markdown，实在有点说不过去。所以考虑在GitHub上建一个简单的博客。

首先，你需要在GitHub上建一个以自己用户名开头的Repo，例如我的Repo名是`reliveyy.github.io`

这时候你如果把一个index.html放进Repo，访问那个github.io的地址，就能看见那个提交的index页面。可以简单认为Jekyll已经在GitHub上部署好了，只要你把符合要求的网站内容传到Repo中，就算完成博客搭建了。

<!--more-->

### 第二步：本地部署jekyll来模拟
这也是[官方教程](https://help.github.com/articles/using-jekyll-with-pages/)建议的。

1. 	检查ruby版本

	```sh
	$ ruby --version
	ruby 2.0.0p481 (2014-05-08 revision 45883) [universal.x86_64-darwin14]
	```
2. 	安装Bundler（package manager）：方便Jekyll更新

	```sh
	$ gem install bundler
	```
3. 	Gemfile
	
	在本地Repo下，新建一个Gemfile文件，内容如下

	```
	source 'https://rubygems.org'
	gem 'github-pages'
	```
	然后运行

	```sh
	$ gem install github-pages
	```
4. 	运行Jekyll
	
	```sh
	$ bundle exec jekyll serve
	```
	默认情况下，Jekyll会在4000端口跑你的网站

5. 	以后有新版本，更新Jekyll
	
	```sh
	$ bundle update
	```

### 第三步：配置Jekyll

至此，你的本地环境就和GitHub环境基本一致了。在本地配置好以后，提交到远端Repo，就能完成博客部署了。

由于本人也是Jekyll新手，所以第一次部署，只打算写一个博客界面的框架，然后能用Markdown发两篇博文就够了。

首先建议去[Jekyll官网](http://jekyllrb.com/)浏览一下文档，了解个大概，接着配置会明了许多。

1.	先配置一下.gitignore

	```
	_drafts/
	_site/
	.DS_Store
	*.swp
	Gemfile*
	```
2. 再配置_config.yml

	```yaml
	markdown:    redcarpet  //没这行Markdown识别很糟糕
	highlighter: pygments   //语法高亮
	```

3. 再配置基本博客框架，主要是配置`_layout/default.html`,`_layout/post.html`, `index.html`, 再写一点`css/`。可以在模版中使用`{%raw%}{{content}}{%endraw%}`代表引用模版的文件的内容，可以用`{%raw%}{% include footer.html %}{%endraw%}`包含_includes文件夹下的网页片段。

4. 最后来用Markdown写一篇博文，注意在文件头要带上Frontmatter

	```
	---
	layout: post
	title: 这个博文的标题
	---
	```

5. 如何从index跳转到这篇博文呢？

	{% raw %}
	```html
	{% for post in site.posts %}
	<li>
		<span>{{ post.date | date_to_string }}</span>
		&raquo;
		<a href="{{ post.url }}">{{ post.title }}</a>
	</li>
	{% endfor %}
	```
	{% endraw %}








